##############################################
# .env.example - Template cho environment variables #
##############################################
# Copy file này thành .env.development hoặc .env.local và điền giá trị thực

## ========== 1) Logging & Observability ==========
# LOG_LEVEL: error | warn | info | http | verbose | debug | silly
LOG_LEVEL=debug
# Bật/tắt console log (mặc định true cho dev)
# ENABLE_CONSOLE_LOG=true

# Loki (tùy chọn) - Centralized logging
LOKI_URL=http://localhost:7100
ENABLE_LOKI=false
# LOKI_USERNAME=your_loki_username
# LOKI_PASSWORD=your_loki_password


## ========== 2) Ứng dụng chung ==========
SERVER_PORT=8080
BASE_URL=http://localhost:8080
CLIENT_URL=http://localhost:3000
APP_SECRET=your_app_secret_key_here
DEFAULT_EXPIRE=3600 # 1 hour
TZ=Asia/Ho_Chi_Minh
ENABLED_CACHE=false
NODE_ENV=development


## ========== 3) Bảo mật / Phiên / JWT ==========
AUTH_ACCESS_EXPIRE=3600
AUTH_REFRESH_EXPIRE=604800
AUTH_SESSION_EXPIRE=604800
SESSION_SECRET=your_session_secret_here
REFRESH_SECRET=your_refresh_secret_here

JWT_ACCESS_SECRET=your_jwt_access_secret_here
JWT_REFRESH_SECRET=your_jwt_refresh_secret_here
JWT_VERIFY_SECRRET=your_jwt_verify_secret_here
JWT_ACCESS_EXPIRY=1d
JWT_REFRESH_EXPIRY=7d
JWT_ISSUER=localhost:8080
JWT_AUDIENCE=localhost:8080

HASH_SECRET=your_hash_secret_here


## ========== 4) Email ==========
EMAIL_SERVICE=gmail
EMAIL_USER=your_email@gmail.com
EMAIL_PASSWORD=your_gmail_app_password_here
EMAIL_NOTI=notification@your-domain.com
EMAIL_TEST_RECIPIENT=test@your-domain.com


## ========== 5) Telegram ==========
TELEGRAM_RECIPIENT_ID=your_telegram_chat_id
TELEGRAM_BOT_TOKEN=your_telegram_bot_token


## ========== 6) Redis ==========
REDIS_HOST=127.0.0.1
REDIS_PORT=6379


## ========== 7) MongoDB (thay cho Postgres) ==========
# Dùng cho docker-compose.dev (port 27017) hoặc docker-compose (port 27018)
MONGODB_HOST=127.0.0.1
# Chọn một trong hai cổng tùy file compose bạn chạy:
MONGODB_PORT=27017  # docker-compose.dev.yml (mặc định dev)
# MONGODB_PORT=27018    # docker-compose.yml (map 127.0.0.1:27018 -> 27017)

# Thông tin root user (khớp với compose)
MONGODB_ROOT_USERNAME=admin
MONGODB_ROOT_PASSWORD=your_mongodb_password
# Tên database ứng dụng
MONGODB_DB=pos
# Nguồn xác thực và tên replica set (yêu cầu cho transaction)
MONGODB_AUTH_SOURCE=admin
MONGODB_REPLICA_SET=rs0
MONGODB_INIT_ROOT_USERNAME=admin
MONGODB_INIT_ROOT_PASSWORD=your_mongodb_password

# URI kết nối MongoDB (bao gồm replicaSet & authSource)
MONGODB_URI=mongodb://${MONGODB_ROOT_USERNAME}:${MONGODB_ROOT_PASSWORD}@${MONGODB_HOST}:${MONGODB_PORT}/${MONGODB_DB}?replicaSet=${MONGODB_REPLICA_SET}&authSource=${MONGODB_AUTH_SOURCE}&retryWrites=true&w=majority&readPreference=primary&appName=MongoDB%20Compass&ssl=false
# Giữ tương thích với code hiện có nếu đang dùng DATABASE_URL
DATABASE_URL=${MONGODB_URI}


## ========== 8) MinIO ==========
MINIO_ENDPOINT=127.0.0.1
MINIO_PORT=9000
MINIO_CONSOLE_PORT=9001
MINIO_USE_SSL=false
MINIO_ACCESS_KEY=minioadmin
MINIO_SECRET_KEY=your_minio_secret_key
MINIO_BUCKET_NAME=assets
MINIO_URL=http://localhost:${MINIO_PORT}


## ========== 8) R2 ==========
R2_ENDPOINT=r2.cloudflarestorage.com
R2_PORT=443
R2_USE_SSL=true
R2_ACCESS_KEY=minio
R2_SECRET_KEY=minio123
R2_BUCKET_NAME=assets
R2_PUBLIC_URL=https://r2.cloudflarestorage.com

## ========== 9) Tài khoản mặc định ==========
STAFF_EMAIL=admin@your-company.com
STAFF_PASSWORD=your_admin_password
STAFF_NAME=Admin
# STAFF_NAME=ADMIN001  # (Nếu cần code/ID riêng, giữ ở đây)


## ========== Hướng dẫn sử dụng ==========
# 1. Copy file này thành .env.development (cho development)
# 2. Copy file này thành .env.local (cho local overrides)
# 3. Thay thế tất cả placeholder values bằng giá trị thực
# 4. KHÔNG commit file .env.development hoặc .env.local có chứa thông tin nhạy cảm
# 5. Để tạo Gmail App Password: https://myaccount.google.com/apppasswords
# 6. Để tạo Telegram Bot: https://core.telegram.org/bots#6-botfather
